\chapter{Einführung}\label{chap:introduction}
Go ist eine seit 2007 von Google entwickelte Programmiersprache, welche sich 
in den letzten Jahren zu einer der beliebtesten Programmiersprachen entwickelt 
hat~\cite{ranking}. Ein Fokus der Sprache liegt dabei auf der Erstellung
sicherer und effizienter nebenläufiger Programme. Go stellt verschiedene 
Funktionen für die Entwicklung solcher Programme zur Verfügung.
Die wichtigsten dieser Funktionen sind dabei Go-Routinen, Mutexe und 
Channels.\\Go-Routinen erlauben das nebenläufige Ausführen mehrerer Codeteile.
Mutexe erlauben die Synchronisation von Routinen, sowie die Lösung des Problems 
des kritischen Ausschlusses. 
Channel können ebenfalls für die Synchronisation verwendet werden,
es ist aber auch möglich mit ihnen Daten zwischen Routinen zu versenden. 
Programmierer werden dabei angehalten, Channel
anstelle von globalen Variablen zu verwenden, da bei diesen die Wahrscheinlichkeit
für das Auftreten von Concurrency-Bugs geringer ist~\cite{sharedMemory}.\\
Blockierende Concurrency-Bugs, welche durch die Nebenläufigkeit von Programmen sowie ihrer 
Synchronisationsmechanismen entstehen, sind in der Praxis aber dennoch sehr weit 
verbreitet~\cite{numberBugs}.

Diese Arbeit beschäftigt sich mit der Entwicklung und Implementierung
eines dynamischen Detektors ``GoChan'' für die automatische Erkennung
von blockenden und terminierenden Bugs, welche durch die Verwendung von Mutexen und Channels 
in nebenläufigen Go-Programmen entstehen. 
Der Detektor vereinigt und erweitert dabei verschiedene Methoden aus 
iGoodLock~\cite{iGoodLock} und UNDEAD~\cite{Undead} sowie 
Gopherlyzer-GoScout~\cite{PPDP18} und GFuzz~\cite{gfuzz} zur 
Erkennung und Analyse von 
durch Mutexe und Channels erzeugten Bugs.

GoChan besteht dabei aus zwei Programmen, einem Instrumenter und einem 
Analyzer. Für beide Programme existiert in 
\begin{center}
  \url{https://github.com/ErikKassubek/GoChan}
\end{center}
eine Implementierung.\\
Mit dem Instrumenter wird der zu analysierende Programmcode so verändert,
dass er im Anschluss analysiert werden kann.
Für die Analyze wird das zu analysierende Programm 
mehrfach durchlaufen. Bei jedem Durchlauf zeichnet der Analyzer relevante 
Situationen auf und führt anschließend, basieren auf dem so erstellten Trace 
eine Analyse aus, um Probleme zu erkennen. Die Analyse wird mehrfach wiederholt, 
um verschiedene Ausführungspfade zu analysiere, welche durch die Verwendung 
verschiedener Cases in Select-Operationen erzeugt werden. Um den Trace eines 
Programmdurchlaufs aufzeichnen zu können und bei Select-Operationen verschiedene 
Ausführungspfade zu erzwingen, muss der zu analysierende Programmcode 
verändert werden. Dies kann durch den Instrumenter automatisiert erfolgen.

Die Arbeit ist folgendermaßen aufgebaut. Zuerst werden in Abschnitt~\ref{chap:background}
die Funktionsweise von Nebenläufigkeit in Go, sowie die zu detektierenden 
Bug-Situationen betrachtet. Anschließend wird in Abschnitt~\ref{chap:TheoDet}
die theoretische Funktionsweise des Detektors dargelegt.
Im Abschnitt~\ref{Chap:Instrumenter} und~\ref{Chap:Implement} werden 
die Funktionsweise des Instrumenters sowie die Implementierung des 
Detektors beschrieben. In Abschnitt~\ref{Chap:Eval} wird der Detektor auf 
konstruierte und tatsächliche Programme angewandt, um zu überprüfen, 
wie gut er in der Lage ist, Probleme richtig einzuschätzen. Für die 
tatsächlichen Programme werden dabei Programme aus GoBench~\cite{gobench}
verwendet, welche eine Sammlung von Programmen mit Concurrency-Bugs aus 
mehreren großen open-source Programmen besitzt. Zuletzt werden die 
Erkenntnisse in Abschnitt~\ref{chap:conclusion} zusammengefasst.
