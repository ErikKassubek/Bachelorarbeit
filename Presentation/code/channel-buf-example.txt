func main() {
  c := make(chan int, 2)
  d := make(chan int)

  go func() {
    c <- 1  // 1
    c <- 1  // 2
    d <- 1  // 3
  }()

  <- d      // 4
  <- c      // 5
  <- c      // 6
}