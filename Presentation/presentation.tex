\documentclass[aspectratio=169]{beamer}  % artikeltyp, legt vorhandene Ebenen (chapter, section etc.)

% =Sprache=
%\usepackage[USenglish,british,american,australian,english]{babel}   %Für Englisch
\usepackage[ngerman]{babel}   % Für deutsch
\usepackage[utf8]{inputenc}   % Gibt utf8 also umlaute, ß etc
\usepackage{lmodern} % update im der Latex schrift, macht schriftbild etwas schöner
\usepackage[T1]{fontenc}   % läd zeichensätze für westeuropäische sprachen nicht unbedingt nötig

% =Mathe=
\usepackage{amsmath} % Grundlegendes packet, gibt Matheumgebungen
\usepackage{amssymb} % Gibt Mathesymbole (pfeile etc) http://milde.users.sourceforge.net/LUCR/Math/mathpackages/amssymb-symbols.pdf
\usepackage{dsfont}  % double struck fonts (z.B: für Mengen von Zahlen) http://milde.users.sourceforge.net/LUCR/Math/mathpackages/dsfont-symbols.pdf
\usepackage{mathrsfs}   % Geschwungene Buchstaben http://www.stat.colostate.edu/~vollmer/pdfs/typesetting-script.pdf
% es gibt da noch seeehr viele mehr...
\usepackage{nicefrac}
\usepackage{siunitx}
\usepackage{mathdots}

% =Bilder=
\usepackage{graphicx}   % Bilder einbinden
\usepackage{multirow}
%\usepackage{caption}

\usepackage{pdfpages}
\usepackage{amsmath}

% =Malen=
%\usepackage[colorlinks]{hyperref}
\usepackage{tikz} % Tool zum zeichnen von dingen
\usepackage{pgf-pie}
\usepackage{pgfplots, pgfplotstable}   % functions


% Pakete aus tikz, die geladen werden (gibt noch viel mehr).
\usetikzlibrary{positioning}
\usetikzlibrary{arrows,automata,shapes}
\usetikzlibrary{trees,fit,decorations.pathreplacing}  % group
\usetikzlibrary{calc} % calculate for relative positioning
\usetikzlibrary{graphs} %  graph placement
\usetikzlibrary{matrix,backgrounds} % Benötigt für hintergründe bei matrizen über tikz
% http://tex.stackexchange.com/questions/57152/how-to-draw-graphs-in-latex

\tikzset{
  invisible/.style={opacity=0},
  visible on/.style={alt={#1{}{invisible}}},
  alt/.code args={<#1>#2#3}{%
    \alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}
  },
}


% =Optimierungen=
\graphicspath{{./Bilder/}} % Gibt den Standard ordner für bilder an
\usepackage{enumerate}  % gives extra options for \begin{enumerate}, e.g. use a),b) instead of 1),2)
\usepackage{hyperref}   % Klickbare Links
\usepackage{caption} % Gives options for customising captions
\usepackage{subcaption} % different captions for multiple pictures in one float
%\usepackage{placeins}  % gibt \FloatBarrier. Wenn das benötigt wird, leben überdenken.
\usepackage{float,rotating}   % Option for fix possitions; rotating of Graphics/tables
\usepackage{array,booktabs}   % erweiterte Möglichkeiten zur Tabellendarstellung
\usepackage{longtable}  % gibt optionen für tabellen über mehrere Seiten
%\usepackage{uline}  % allowes underlines, its strongly recomendet not to underline
%\setlength{\parindent}{0cm}  % Einrücktiefe auf 0cm setzen (siehe weiter unten im Dokument)
\usepackage{indentfirst}
\usepackage[justification=centering]{caption}

\newcommand{\MYhref}[3][blue]{\href{#2}{\color{#1}{#3}}}%
\usepackage{titlesec}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{gensymb}


\usepackage{rotating}

\usepackage{multicol}

\usepackage[linewidth=1pt]{mdframed}


\usepackage{makeidx}  % gives an Index
\makeindex   % Starts looking for index-keys
\newcommand{\Index}[1]{#1\index{#1}} % gives the comand \Indext{test} which puts "`test"' in the Index, refering to the page the key is on.

% =Definitionen= (Siehe unten im Matheteil)
\newcommand{\pd}{\partial}
\newcommand{\pfrac}[2]{\frac{\partial #1}{\partial #2}}
%%%
% BODY
%%%
\setlength{\parindent}{0em}

\usepackage{listings}

\lstset{ % add your own preferences
    frame=none,
    basicstyle=\footnotesize,
    keywordstyle=\color{Blue1},
    numbers=none,
    showstringspaces=false, 
    stringstyle=\color{Blue3},
    tabsize=2,
    % xleftmargin=2em,
    escapeinside=``,
    moredelim=**[is][\only<+>{\color{black}\lstset{style=highlight}}]{@}{@},
    language=Go, % this is it !
    morekeywords={function, of, number}
}

\usepackage{amsthm}

\usepackage{tikz}

\usepackage{aligned-overset}

\usepackage[ruled,vlined,noend]{algorithm2e}

\usepackage[backend=biber, style=ieee]{biblatex}
\addbibresource{references.bib}
\usepackage{csquotes}

%%%
% notes
%%%
\usepackage{pgfpages}
% \setbeameroption{show only notes}
% \setbeameroption{show notes}
% \setbeameroption{show notes on second screen}



% zu Zeigen
\newcommand{\zz}{$\mathrm{\raise0.25ex\hbox{Z}\kern-.56em\raise-0.25ex\hbox{Z}}$ }

\definecolor{Blue1}{RGB}{0, 74, 153}
\definecolor{Blue2}{RGB}{42, 110, 187}
\definecolor{Blue3}{RGB}{111, 154, 211}
\definecolor{Red1}{RGB}{193, 0, 42}
\definecolor{Red2}{RGB}{123, 41, 39}
\definecolor{GreyDark}{RGB}{54, 53, 52}
\definecolor{GreyLight}{RGB}{242, 243, 241}

%customize itemize
\mode<presentation>
{
    \usetheme{Madrid}
    \usecolortheme{dolphin}

    \setbeamercolor{title}{parent=structure,fg=GreyLight,bg=Blue1}
    \setbeamercolor*{palette primary}{use=structure,fg=GreyDark,bg=Blue3}
    \setbeamercolor*{palette secondary}{use=structure,fg=GreyLight,bg=Blue2}
    \setbeamercolor*{palette tertiary}{use=structure,fg=GreyLight,bg=Blue1}
    \setbeamercolor{frametitle}{parent=structure,bg=GreyLight,fg=Blue1}

    \usefonttheme{professionalfonts}
    \setbeamercolor{itemize item}{fg=Blue1}
    \setbeamertemplate{itemize item}[circle]
    \setbeamercolor{itemize subitem}{fg=Blue2}
    \setbeamertemplate{itemize subitem}[circle] 
    \setbeamercolor{itemize subsubitem}{fg=Blue3}
    \setbeamertemplate{itemize subsubitem}[circle]
    
    \beamertemplatenavigationsymbolsempty
}

\author[Erik Kassubek]{Erik Kassubek} 
\title[Dynamic Analysis of Concurrent Go-Programs]{Dynamic Analysis of Concurrent Go-Programs}
\subtitle{Bachelorarbeit - Kolloquium}
\institute[]{Institut für Informatik\\Albert-Ludwigs-Universität Freiburg}
\date{14.02.2023}

\begin{document}

\frame{
    \titlepage
}



\begin{frame}{Nebenläufigkeit in Go}
    \begin{itemize}
      \item Go-Routine
      \begin{itemize}
        \item leichtgewichtiger Thread
        \item ermöglicht Nebenläufigkeit
      \end{itemize}
      \item Mutexe (Locks)
      \begin{itemize}
        \item Synchronisationsmechanismus
        \item Löst das Problem des gegenseitigen Ausschluss
      \end{itemize}
      \item Channel
      \begin{itemize}
        \item Synchronisationsmechanismus
        \item Ermöglichen Kommunikation zwischen Routinen
      \end{itemize}
    \end{itemize}
    \note{Note}
\end{frame}

% ============== Mutex ===============

\begin{frame}{Mutex}
  \begin{minipage}{0.49\textwidth}
    \lstinputlisting{code/mutex-example.txt}
  \end{minipage}
  \hfill
  \uncover<2>{\vrule{}}
  \hfill
  \begin{minipage}{0.49\textwidth}
    \uncover<2>{\lstinputlisting{code/mutex-rw.txt}}
  \end{minipage}
\end{frame}

\begin{frame}{Mutex}
  \begin{minipage}[t]{0.49\textwidth}
    \lstinputlisting{code/mutex-zyclic.txt}
  \end{minipage}
  \hfill
  \uncover<2>{\vrule{}}
  \hfill
  \begin{minipage}[t]{0.49\textwidth}
    \uncover<2>{\lstinputlisting{code/mutex-double.txt}}
  \end{minipage}
\end{frame}


% ============== Channel =============

\begin{frame}{Channel - Unbuffered}
  \begin{minipage}{0.49\textwidth}
    \lstinputlisting{code/channel-un-example.txt}
  \end{minipage}
  \hfill
  \uncover<2>{\vrule{}}
  \hfill
  \begin{minipage}{0.49\textwidth}
    \uncover<2>{\lstinputlisting{code/channel-un-block.txt}}
  \end{minipage}
\end{frame}

\begin{frame}{Channel - Buffered}
  \begin{minipage}{0.49\textwidth}
    \lstinputlisting{code/channel-buf-example.txt}
  \end{minipage}
  \hfill
  \uncover<2>{\vrule{}}
  \hfill
  \begin{minipage}{0.49\textwidth}
    \uncover<2>{\lstinputlisting{code/channel-buf-block.txt}}
  \end{minipage}
\end{frame}

\begin{frame}{Channel - Close}
  \begin{minipage}{0.49\textwidth}
    \begin{itemize}
      \item Schließt Channel $\Rightarrow$ keine weiter Kommunikation möglich
      \item Send auf geschlossenem Channel $\Rightarrow$ Laufzeitfehler
    \end{itemize}
  \end{minipage}
  \hfill
  \uncover<2>{\vrule{}}
  \hfill
  \begin{minipage}{0.49\textwidth}
    \uncover<2>{\lstinputlisting{code/channel-ex-close.txt}}
  \end{minipage}
\end{frame}

% ========== Main =============
\begin{frame}{Analyse}
  \begin{itemize}
    \item Entwicklung und Implementierung eines Detektors zur
    \begin{itemize}
      \item Erkennung von problematischen Situationen
      \item Analyse von problematischen Situationen 
    \end{itemize}
    \item<2> Dynamische Analyse
    \begin{itemize}
      \item<2> Instrumentierung
      \item<2> Programm (mehrfach) ausführen
      \item<2> Verhalten aufzeichnen $\Rightarrow$ Trace
      \item<2> Trace analysieren
    \end{itemize}
  \end{itemize}  
\end{frame}

\begin{frame}{Detektor - Trace}
  \textcolor{red}{TODO: Trace}
\end{frame}

\begin{frame}{Detektor - Instrumentierung}
  \begin{itemize}
    \item Veränderung des Programmcodes
    \item Ersetze Mutexe/Channel durch eigene Objekte
    \item Funktionen auf Objekten:
    \begin{itemize}
      \item Ausführung der eigentlichen Operation
      \item Aufzeichnung der Operation
    \end{itemize}
    \item Aufzeichnung von Fork
    \item Aufzeichnung / Kontrolle über Select
  \end{itemize}
\end{frame}

\begin{frame}{Detektor - Select}
  \begin{minipage}{0.49\textwidth}
    \begin{itemize}
      \item Wartet gleichzeitig auf mehrere Channel-Operationen
      \item Erste ausführbare Funktion wird ausgeführt
      \item Wenn mehrere gleichzeitig $\Rightarrow$ Zufälliger Case
      \item Ohne Default $\Rightarrow$ Blockiert
    \end{itemize}
  \end{minipage}
  \hfill
  \vrule{}
  \hfill
  \begin{minipage}{0.49\textwidth}
    \lstinputlisting{code/select-example.txt}
  \end{minipage}
\end{frame}

\begin{frame}{Detektor - Select - Instrumentierung}
  \begin{minipage}{0.49\textwidth}
    \begin{minipage}{0.49\textwidth}
      \lstinputlisting{code/select-pre.txt}
    \end{minipage}
  \end{minipage}
  \hfill
  \vrule{}
  \hfill
  \begin{minipage}{0.49\textwidth}
    \lstinputlisting{code/select-post.txt}
  \end{minipage}
\end{frame}

\begin{frame}{Detektor - Programm ausführen}
  \textcolor{red}{TODO: Programm ausführen}
\end{frame}



\begin{frame}{Detektor - Analyse - Mutexe}
  \textcolor{red}{TODO: Analyse Mutexe}
\end{frame}

\begin{frame}{Detektor - Analyse - Channel}
  \textcolor{red}{TODO: Analyse Channel}
\end{frame}



% ===== Quellen =====

% \begin{frame}{Sources}
%     \nocite{*}
%     \AtNextBibliography{\tiny}
%     \printbibliography[heading=none]
% \end{frame}


\end{document}
